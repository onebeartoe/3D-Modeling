
// Module names are of the form poly_<inkscape-path-id>().  As a result,
// you can associate a polygon in this OpenSCAD program with the corresponding
// SVG element in the Inkscape document by looking for the XML element with
// the attribute id="inkscape-path-id".

// fudge value is used to ensure that subtracted solids are a tad taller
// in the z dimension than the polygon being subtracted from.  This helps
// keep the resulting .stl file manifold.
fudge = 0.1;

module poly_Selection(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[-4.148906,-161.604375],[29.851094,-161.604375],[89.851094,-161.604375],[93.388594,-161.765625],[96.851094,-161.604375],[99.052539,-160.861992],[100.810781,-159.788437],[102.146680,-158.426602],[103.081094,-156.819375],[103.634883,-155.009648],[103.828906,-153.040312],[103.684023,-150.954258],[103.221094,-148.794375],[102.277969,-146.302969],[100.798594,-143.351250],[96.816094,-136.696875],[88.851094,-124.794375],[55.521094,-74.794375],[52.930781,-71.123125],[49.723594,-66.176875],[48.375586,-63.594766],[47.457656,-61.136875],[47.164570,-58.950859],[47.691094,-57.184375],[49.468281,-55.523281],[51.843594,-54.455625],[56.851094,-53.384375],[81.851094,-52.794375],[85.930117,-52.456934],[89.547656,-51.555469],[92.689414,-50.098770],[95.341094,-48.095625],[97.488398,-45.554824],[99.117031,-42.485156],[100.212695,-38.895410],[100.761094,-34.794375],[100.747676,-30.961406],[100.226250,-27.654375],[99.240059,-24.763594],[97.832344,-22.179375],[96.046348,-19.792031],[93.925313,-17.491875],[88.851094,-12.714375],[60.861094,11.495625],[22.681094,53.165625],[-2.148906,76.215625],[-46.148906,121.205625],[-78.148906,152.375625],[-81.104219,155.211094],[-84.541406,158.319375],[-88.282344,160.803281],[-90.211055,161.530723],[-92.148906,161.765625],[-94.372402,161.407539],[-95.966250,160.530312],[-97.010488,159.238242],[-97.585156,157.635625],[-97.770293,155.826758],[-97.645937,153.915937],[-96.788906,150.205625],[-93.919844,142.465000],[-90.396406,134.510625],[-82.908906,119.205625],[-44.898906,43.205625],[-36.378906,25.205625],[-35.345781,22.782813],[-34.608906,20.343125],[-34.494531,17.862187],[-35.328906,15.315625],[-36.170610,14.127329],[-37.254570,13.148945],[-40.029844,11.748437],[-43.415898,10.967148],[-47.173906,10.658125],[-54.850469,10.869062],[-61.148906,11.205625],[-84.148906,11.205625],[-89.537187,11.162031],[-95.852656,10.511875],[-98.777129,9.708848],[-101.236250,8.453594],[-102.997637,6.645918],[-103.544060,5.503611],[-103.828906,4.185625],[-103.551094,0.976250],[-102.416406,-2.454375],[-99.458906,-8.794375],[-87.568906,-34.794375],[-45.288906,-129.794375],[-36.368906,-149.794375],[-33.801406,-154.788125],[-32.116406,-157.068906],[-30.048906,-158.784375],[-27.055781,-159.877500],[-23.293906,-160.479375],[-16.148906,-160.794375],[-10.167656,-160.861875],[-4.148906,-161.604375]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-2.148906,-144.654375],[-11.515156,-143.585625],[-16.058125,-142.526719],[-18.163730,-141.618809],[-20.108906,-140.364375],[-22.284258,-138.120078],[-24.525469,-134.897500],[-28.966406,-126.644375],[-32.953594,-117.858750],[-36.008906,-110.794375],[-65.008906,-46.794375],[-77.008906,-20.794375],[-77.717656,-18.100625],[-78.111406,-14.919375],[-77.953906,-11.783125],[-77.594609,-10.398281],[-77.008906,-9.224375],[-75.949375,-8.181387],[-74.555156,-7.474844],[-71.118906,-6.800625],[-64.148906,-6.514375],[-25.148906,-5.794375],[-20.262344,-5.639844],[-17.686992,-5.320645],[-15.208906,-4.723125],[-12.967070,-3.759512],[-11.100469,-2.342031],[-9.748086,-0.382910],[-9.048906,2.205625],[-9.148008,3.888379],[-9.686094,6.060156],[-11.633906,11.216875],[-15.898906,20.205625],[-36.368906,61.205625],[-43.578906,78.205625],[-43.665156,80.649063],[-43.016406,82.798125],[-42.384766,83.660898],[-41.531406,84.328437],[-40.443672,84.760195],[-39.108906,84.915625],[-36.457187,84.283281],[-33.772656,82.729375],[-29.148906,78.915625],[-9.148906,59.205625],[54.851094,-4.794375],[69.851094,-20.794375],[73.011094,-24.875625],[74.145781,-27.247656],[74.401094,-29.684375],[74.109907,-30.624995],[73.529883,-31.442773],[71.644531,-32.745312],[69.027461,-33.663008],[65.961094,-34.266875],[59.610156,-34.817188],[54.851094,-34.964375],[26.851094,-34.964375],[24.944707,-35.570820],[23.266250,-36.420312],[21.835527,-37.498086],[20.672344,-38.789375],[19.796504,-40.279414],[19.227813,-41.953437],[18.986074,-43.796680],[19.091094,-45.794375],[19.653008,-47.792656],[20.785156,-50.341250],[24.138594,-56.346875],[30.851094,-66.794375],[56.801094,-107.794375],[71.091094,-131.794375],[72.260937,-134.232188],[73.242344,-137.009375],[73.438125,-139.779062],[73.054785,-141.052695],[72.251094,-142.194375],[71.029297,-142.931309],[69.104844,-143.516719],[64.008594,-144.290625],[58.683594,-144.631406],[54.851094,-144.654375],[-2.148906,-144.654375]]);
    }
  }
}

module lightningBolt(height = 1,
                     showBackground = false)
{
    scaleFactor = 0.35;
    scale([scaleFactor, 
          scaleFactor + 0.0, 
           1])
    poly_Selection(height);

    if(showBackground)
    {
        color("green")
        cube([20.6, 32, height], center = true);
    }    
}